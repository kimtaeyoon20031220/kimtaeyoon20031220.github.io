<!DOCTYPE html>
<html>
    <head>
        <div class="cursor"></div>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;300;600;800;900&display=swap" rel="stylesheet">
        <title>김태윤의 포트폴리오</title>
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css" />
        <link rel="stylesheet" class="main_css" type="text/css" href="portfolio.css">
        <link rel="stylesheet" class="animation_css" type="text/css" href="animation.css">
    </head>

    <script>

        function pagePlus() {
            if (page < 2) {
                page++;
                console.log(page);
                document.querySelector(".title-page-now").innerHTML = page;
                switch (page - 1) {
                    case 0:
                        document.querySelector("#item3").animate([
                            {
                                transform: translateX(0)
                            },
                            {
                                transform: translateX(-100)
                            }
                        ], 1000);
                }
            }
        }

    </script>

    <body>
        <div class="space">
            <div class="bottom-circle"></div>
            <div class="top-square"></div>
            <div></div>
            <div class="container">
                <div class="columns-center">
                    <div class="title">
                        <span>Portfolio</span>
                        <div></div>
                        <div class="title-left-box">
                            <a onclick="pageBefore()"><img id="page-button-left" src="arrow-left-circle-inactive.svg" width="35px" height="35px"></a>
                            <span class="title-page">
                                <span class="title-page-now">1</span>
                                <span class="title-page-all">/2</span>
                            </span>
                            <a onclick="pageNext()"><img id="page-button-right" src="arrow-right-circle-active.svg" width="35px" height="35px"></a>
                        </div>
                    </div>
                    <div class="content">
                        <a href="kkulgom.html">
                            <div class="item" id="item2">
                                <div class="thumbnail" style="background-image: url('./kkulgom.png')"></div>
                                <div class="shadow">
                                    <div></div>
                                    <div class="content-title">꿀곰 프로젝트</div>
                                    <div class="content-stack">
                                        <div class="content-stack-item">Flutter</div>
                                        <div class="content-stack-item">Dart</div>
                                        <div class="content-stack-item">Shared Preferences</div>
                                    </div>
                                    <div></div>
                                </div>
                            </div>
                        </a>
                        <a href="modugarden.html">
                            <div class="item" id="item1">
                                <div class="thumbnail" style="background-image: url('https://user-images.githubusercontent.com/19889463/222959125-f35ad7f9-f3a9-4d3b-9d8c-496e14724b74.png')"></div>
                                <div class="shadow">
                                    <div></div>
                                    <div class="content-title">모두의 정원</div>
                                    <div class="content-stack">
                                        <div class="content-stack-item">Jetpack Compose</div>
                                        <div class="content-stack-item">Jetpack Navigation</div>
                                        <div class="content-stack-item">Kotlin</div>
                                    </div>
                                    <div></div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            <div></div>
        </div>
    </body>

    <script>

        let page = 1;

        let mouseCursor = document.querySelector(".cursor");
        let navLinks = document.querySelectorAll("a");
        //window 객체에 scroll & mouse 이벤트를 추가하고 cursor함수 실행되도록 함
        window.addEventListener("scroll", cursor);
        window.addEventListener("mousemove", cursor);

        console.log(navLinks);

        //커스텀 커서의 left값과 top값을 커서의 XY좌표값과 일치시킴
        function cursor(e) {
          mouseCursor.style.left = e.pageX + "px";
          mouseCursor.style.top = e.pageY - scrollY + "px";
        }
        navLinks.forEach((link) => {
            link.addEventListener("mouseover", () => {
                mouseCursor.classList.add("link-grow");
            });
            link.addEventListener("mouseleave", () => {
                mouseCursor.classList.remove("link-grow");
            });
        });

        let item1 = document.querySelector("#item1");
        let item2 = document.querySelector("#item2");
        let item3 = document.querySelector("#item3");

        item3.style.opacity = "0";

        function pageBefore() {
            if (page > 1) {
                page -= 1;
                document.querySelector(".title-page-now").innerHTML = page;
                if (page == 1)  { // 2->1
                    item1.style.animation = "leftToRightPage1 0.3s ease-out forwards"; // 오른쪽으로 돌아오기
                    item2.style.animation = "leftToRightPage0 0.3s ease-out forwards";
                    item3.style.opacity = "0";
                }
            }
        }

        function pageNext() {
            if (page < 2) {
                page += 1;
                document.querySelector(".title-page-now").innerHTML = page;
                if (page == 2) { // 1->2
                    item1.style.animation = "rightToLeftPage0 0.3s ease-out forwards"; // 왼쪽으로 사라지기
                    item2.style.animation = "rightToLeftPage1 0.3s ease-out forwards";
                    item3.style.opacity = "0";
                }
            }
        }

      </script>
</html>